---
interface Props {
  title: string;
  summary: string;
  category: string;
  image?: string;
  tech: string[];
  link?: string;
  github?: string;
  date: Date;
  slug?: string;
}

const { title, summary, category, image, tech, link, github, date, slug } = Astro.props;

const categoryColors: Record<string, string> = {
  'IoT': 'bg-[#A8E6CF]',
  'Software': 'bg-[#A8D8EA]',
  'AI/ML': 'bg-[#FFD3B6]',
  'Cloud': 'bg-[#C5B4E3]',
  'Other': 'bg-[#D4F05D]'
};

const categoryColor = categoryColors[category] || categoryColors['Other'];
---

<div class="bg-white border-3 border-black p-6 shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:shadow-[8px_8px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all group">
  {image && (
    <div class="mb-4 overflow-hidden border-3 border-black">
      <img src={image} alt={title} class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300" />
    </div>
  )}
  
  <div class="flex items-center gap-3 mb-3">
    <span class={`px-3 py-1 ${categoryColor} border-2 border-black text-xs font-bold uppercase`}>
      {category}
    </span>
    <span class="text-gray-500 text-sm font-mono">
      {date.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}
    </span>
  </div>

  <h3 class="text-xl font-bold mb-2 group-hover:text-[#61afef] transition-colors">{title}</h3>
  <p class="text-gray-700 mb-4">{summary}</p>

  <div class="flex flex-wrap gap-2 mb-4">
    {tech.map((t) => (
      <span class="px-2 py-1 bg-[#E8F7A8] border-2 border-black text-xs font-semibold rounded-full">
        {t}
      </span>
    ))}
  </div>

  <div class="flex flex-wrap gap-3">
    {slug && (
      <a href={`/projects/${slug}`}
         class="px-4 py-2 bg-black text-white font-bold border-2 border-black hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all">
        ðŸ“– Read More
      </a>
    )}
    {link && (
      <a href={link} target="_blank" rel="noopener" 
         class="px-4 py-2 bg-[#61afef] text-black font-bold border-2 border-black hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all">
        ðŸ”— Demo
      </a>
    )}
    {github && (
      <a href={github} target="_blank" rel="noopener" 
         class="px-4 py-2 bg-[#98c379] text-black font-bold border-2 border-black hover:shadow-[4px_4px_0px_0px_rgba(0,0,0,1)] hover:-translate-y-1 transition-all">
        ðŸ“¦ GitHub
      </a>
    )}
  </div>
</div>
